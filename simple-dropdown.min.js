;(function($,e,a,i){var t="simpleDropdown",s={propertyName:"value"};function d(e,a){this.element=e;this.jqElem=$(e);this.options=$.extend({},s,a);this._defaults=s;this._name=t;if(!this.jqElem.is(".dropasaurusised, .simple-dd-generated"))this.init()}d.prototype={init:function(){$.addBody();var i=this.jqElem;var t=this.jqElem;i.each(function(){var i=$(this);var t=i.find("ul");var s=t.parent();var d=t.remove();$(".body").append(d);d.wrap('<div class="simple-dd simple-dd-generated" id="'+i.data("id")+'"></div>');$(e).on("resize",function(){d.parent().css({position:"absolute",top:s.offset().top+s.height(),left:s.offset().left})});var n=-1;i.find("a").first().click(function(e){e.preventDefault();e.stopPropagation();n=-1;if($("#"+i.data("id")).hasClass("active")){$(".simple-dd").removeClass("active");return}$(".simple-dd").removeClass("active");i.trigger("probable_change");$("#"+i.data("id")).toggleClass("active")});$("html").click(function(e){$(".simple-dd").removeClass("active")});var f=false;$(a).keyup(function(e){if(e.keyCode==16){f=false}});$(a).keydown(function(e){if(e.keyCode==16){f=true}else if(e.keyCode==40){if($("#"+i.data("id")).hasClass("active")){e.preventDefault();var a=$("#"+i.data("id")).find("a");if(n<a.length-1){n++}var t=a[n];t.focus()}}else if(e.keyCode==9){if($("#"+i.data("id")).hasClass("active")){var a=$("#"+i.data("id")).find("a");if(n<a.length-1&&!f){n++;var t=a[n];t.focus();e.preventDefault()}else if(f){if(n>0){n--;var t=a[n];t.focus()}else{n--;$(".simple-dd").removeClass("active");i.find("a").first().focus()}e.preventDefault()}else{n++;if(i.data("next")){$(i.data("next")).find("a").focus();$(".simple-dd").removeClass("active");e.preventDefault()}else{i.find("a").focus();$(".simple-dd").removeClass("active")}}}}else if(e.keyCode==38){if($("#"+i.data("id")).hasClass("active")){e.preventDefault();var a=$("#"+i.data("id")).find("a");if(n>0){n--}var t=a[n];t.focus()}}else if(e.keyCode==27){if($("#"+i.data("id")).hasClass("active")){$(".simple-dd").removeClass("active")}}})});this.jqElem.addClass("dropasaurusised")}};$.fn[t]=function(e){return this.each(function(){if(!$.data(this,"plugin_"+t)){$.data(this,"plugin_"+t,new d(this,e))}})}})(jQuery,window,document);
